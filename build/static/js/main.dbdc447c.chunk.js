(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{11:function(e,t,a){e.exports={Tweet:"_3RAzzC_pVsKItilldyTucs",AvatarWrapper:"_1SGJ_n7Q3kB6AsDsiUgguP",AvatarLink:"JPINzwIl5mxVsDK7I9A-h",Avatar:"_1fsqBndSeJlA41wtwsc7i0",TextWrapper:"cGCHNCUldRS_TXdir7LIZ",TweetInfo:"AG64mq5o2fg33P3wBAKfS",Name:"_2cmnnPMwnmyPcnv85x-xsF",NickName:"_3-57HdtmohRepZy78D7NBO",Time:"GhbTe4ebSgHyd7DhTEfXN",Text:"_3XrmtqdNaJgsyx3qCyiexr",BottomIcons:"_1K-SX0f5Bp5NpuYSJgjQkk",IconButton:"SHfSNj8WBWRRWTVESUQmC",Icon:"_37E6LMGhvY2lDgnr4sr9DH",Liked:"_7pDDknyLzRi5DGf5HGB_F",Counter:"_14bTeexEZQ7NZra5ifIyH8",CommentButton:"_3B2009xijZ4PW8TaE9HJnp",RetweetButton:"_2OOozhtJUSHysgYib7UNRc",LikeButton:"outHq9IlwVC8RCO_sgMMM",TmpButton:"_1aEiHDRhW686a6nJbdaW6b"}},117:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(38),o=a.n(s),c=(a(91),a(92),a(12)),l=a(13),i=a(15),u=a(14),m=a(66),p=a.n(m),d=a(17),E=a.n(d),f=a(23),h=a.n(f),N=a(69),_=a.n(N),v=a(41),g=a.n(v),b=a(70),w=a.n(b),O=a(67),S=a.n(O),y=function(e){return r.a.createElement("button",{onClick:e.onClick,className:[S.a.SignButton,e.className].join(" "),type:e.type}," ",e.children," ")},x=a(4),k=a(3),T=a(35),j=Object(k.b)((function(e){return{user:e.user}}))((function(e){var t=[{name:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:r.a.createElement(_.a,{fontSize:"large"}),path:"home"},{name:"\u041f\u043e\u0438\u0441\u043a",icon:r.a.createElement(g.a,{fontSize:"large"}),path:"explore"},{name:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",icon:r.a.createElement(w.a,{fontSize:"large"}),path:"".concat(Object(T.isEmpty)(e.user)?"home":e.user.name)}].map((function(e){return r.a.createElement("li",{key:e.name,className:E.a.NavItem},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"===e.name?r.a.createElement("a",{href:"/".concat(e.path),className:E.a.NavBtn},e.icon,r.a.createElement("div",{className:E.a.NavTitle}," ",e.name," ")):r.a.createElement(x.b,{to:"/".concat(e.path),className:E.a.NavBtn},e.icon,r.a.createElement("div",{className:E.a.NavTitle}," ",e.name," ")))}));return r.a.createElement("nav",{className:E.a.Navigation},r.a.createElement("ul",{className:E.a.NavList},r.a.createElement("li",{key:"tweet_icon",className:[E.a.NavItem,E.a.LogoItem].join(" ")},r.a.createElement("button",{className:E.a.NavBtn},r.a.createElement(h.a,{fontSize:"large",style:{color:"var(--primaryColor)"}}))),t,r.a.createElement("li",{key:"tweet_button",className:[E.a.NavItem,E.a.TweetItem].join(" ")},r.a.createElement(y,{className:E.a.ExitBtn,onClick:function(){localStorage.removeItem("token")}},r.a.createElement("a",{href:"/"}," \u0412\u044b\u0445\u043e\u0434 ")))))})),L=a(52),I=a.n(L),U=function(e){return r.a.createElement("div",{className:I.a.Header},r.a.createElement("div",{className:I.a.Title}," \u0413\u043b\u0430\u0432\u043d\u0430\u044f "))},A=a(44),B=a.n(A),C=a(71),R=a.n(C).a.create({baseURL:"https://tweeper.herokuapp.com"}),D=function(e){return{type:"SEARCH_USER",payload:e}},F=Object(k.b)((function(e){return{users:e.users.users}}))((function(e){return Object(n.useEffect)((function(){return function(){e.dispatch(D(""))}}),[]),r.a.createElement("div",{className:B.a.Search},r.a.createElement("div",{className:B.a.Wrapper},r.a.createElement(g.a,{fontSize:"small"}),r.a.createElement("input",{onChange:function(t){e.dispatch(D(t.target.value))},className:B.a.Input,placeholder:"\u041f\u043e\u0438\u0441\u043a \u0432 \u0422\u0432\u0438\u0442\u0442\u0435\u0440\u0435"})))})),M=a(31),H=a.n(M),W=function(e,t){return function(a){a({type:"LIKE_TWEET",payload:{tweet_id:e.id,user_id:t}}),R.put("/feed",e,{headers:{authorization:localStorage.getItem("token")}}).then((function(e){e.data})).catch((function(e){console.log(e)}))}},z=function(e){return function(t){e=e||"",R.get("/feed/".concat(e),{headers:{authorization:localStorage.getItem("token")}}).then((function(e){var a=e.data.feed;t(function(e){return{type:"ADD_FEED_TO_STORE",payload:e}}(a))})).catch((function(e){console.log(e)}))}},G=Object(k.b)((function(e){return{feed_id:e.user.feed,avatar:e.user.avatar}}))((function(e){return r.a.createElement("div",{className:H.a.Wrapper},r.a.createElement("div",{className:H.a.AvatarWrapper},r.a.createElement(x.b,{className:H.a.AvatarLink,to:"/home"},r.a.createElement("img",{className:H.a.Avatar,src:e.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}))),r.a.createElement("div",{className:H.a.TweetFormWrapper},r.a.createElement("div",{className:H.a.TweetForm,contentEditable:!0,placeholder:"\u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442?","aria-multiline":"true"}),r.a.createElement(y,{onClick:function(){var t,a=document.querySelectorAll("div[contentEditable]")[0];a.textContent&&(e.dispatch((t={id:Date.now(),text:a.textContent,likes:0,feed_id:e.feed_id,publish_date:Date.now(),who_liked:[]},function(e){R.post("/feed",t,{headers:{authorization:localStorage.getItem("token")}}).then((function(t){var a=t.data;e({type:"ADD_TWEET",payload:a})})).catch((function(e){console.log(e)}))})),a.textContent=null)},className:H.a.SendTweet}," \u0422\u0432\u0438\u0442\u043d\u0443\u0442\u044c ")))})),K=a(72),J=a.n(K),P=a(11),V=a.n(P),q=a(134),Z=a(53),Y=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).LikeHandler=function(){e.props.dispatch(W(e.props.tweet,e.props.user_id))},e.getDateDiff=function(e){var t=(Date.now()-e)/1e3;return t<60?Math.round(t)+" c":(t/=60)<60?Math.round(t)+" \u043c\u0438\u043d":(t/=24)<24?Math.round(t)+" \u0447":Math.round(t/24)+" \u0434"},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:V.a.Tweet},r.a.createElement("div",{className:V.a.AvatarWrapper},r.a.createElement(x.b,{className:V.a.AvatarLink,to:"/home"},r.a.createElement(q.a,{alt:"\u0410\u0432\u0430\u0442\u0430\u0440",src:this.props.avatar}))),r.a.createElement("div",{className:V.a.TextWrapper},r.a.createElement("div",{className:V.a.TweetInfo},r.a.createElement("div",{className:V.a.Name},r.a.createElement("a",{href:"/".concat(this.props.name)},this.props.name)),r.a.createElement("div",{className:V.a.NickName},r.a.createElement("a",{href:"/".concat(this.props.name)},"@",this.props.name," \xb7")),r.a.createElement("div",{className:V.a.Time},r.a.createElement("a",{href:"/home"},this.getDateDiff(this.props.publish_date)))),r.a.createElement("div",{className:V.a.Text},this.props.text),r.a.createElement("div",{className:V.a.BottomIcons},r.a.createElement("button",{onClick:this.LikeHandler,className:[V.a.IconButton,V.a.LikeButton,this.props.tweet.who_liked.includes(this.props.user_id)?V.a.Liked:null].join(" ")},this.props.tweet.who_liked.includes(this.props.user_id)?r.a.createElement(Z.a,{className:[V.a.Icon,V.a.Liked].join(" ")}):r.a.createElement(Z.b,{className:[V.a.Icon].join(" ")}),r.a.createElement("span",{className:V.a.Counter}," ",this.props.likes," ")))))}}]),a}(r.a.Component),X=Object(k.b)((function(e){return{user_id:e.user._id}}))(Y),Q=function(e){return function(t){t({type:"LOADING_FOLLOW"}),R.post("/user/follow",e,{headers:{authorization:localStorage.getItem("token")}}).then((function(e){var a=e.data;t({type:"FOLLOW",payload:a})}))}},$=function(e){return function(t){t({type:"LOADING_UNFOLLOW"}),R.post("/user/unfollow",e,{headers:{authorization:localStorage.getItem("token")}}).then((function(e){var a=e.data;t({type:"UNFOLLOW",payload:a})}))}},ee=a(5),te=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){if(!Object(T.isEmpty)(this.props.match.params))return this.props.dispatch(z(this.props.match.params.current_user));this.props.dispatch(z())}},{key:"render",value:function(){return r.a.createElement("div",{className:J.a.Feed},this.props.feed.tweets.map((function(e,t){return r.a.createElement(X,{key:"".concat(e.text,"__").concat(t),tweet:e,tweet_id:e.id,avatar:e.avatar,name:e.creator,text:e.text,likes:e.likes,publish_date:e.publish_date})})))}}]),a}(r.a.Component),ae=Object(ee.h)(Object(k.b)((function(e){return{feed:e.feed,current_feed:e.current_user.feed}}))(te)),ne=a(73),re=a.n(ne),se=a(45),oe=a.n(se),ce=a(37),le=a.n(ce),ie=function(e){return r.a.createElement("div",{className:le.a.Topic},r.a.createElement("div",{className:le.a.TopicCategory},"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u043c\u044b: \u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e"),r.a.createElement("div",{className:le.a.TopicName},"#COVID19"),r.a.createElement("div",{className:le.a.TopicCounter},"\u0422\u0432\u0438\u0442\u043e\u0432: ",r.a.createElement("span",null,"329")))},ue=function(e){return r.a.createElement("div",{className:oe.a.CurrentTopics},r.a.createElement("div",{className:oe.a.Header},"\u0410\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u043c\u044b \u0434\u043b\u044f \u0432\u0430\u0441"),r.a.createElement(ie,null),r.a.createElement(ie,null),r.a.createElement(ie,null),r.a.createElement(ie,null),r.a.createElement(ie,null),r.a.createElement(ie,null),r.a.createElement("button",{className:oe.a.ExpandButton}," \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435 "))},me=function(e){return r.a.createElement("div",{className:re.a.Other},r.a.createElement(ue,null))},pe=function(e){return{type:"ADD_USER_TO_STORE",payload:e}},de=function(){return function(e,t){e({type:"LOADING_USER"}),R.get("/user",{headers:{authorization:localStorage.getItem("token")}}).then((function(t){var a=t.data;e({type:"ADD_USER_TO_STORE",payload:a.user})})).catch((function(e){console.log(e)}))}},Ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(de())}},{key:"render",value:function(){return r.a.createElement("section",{className:p.a.Grid},r.a.createElement(j,null),r.a.createElement(U,null),r.a.createElement(me,null),r.a.createElement(G,null),r.a.createElement(ae,null))}}]),a}(r.a.Component),fe=Object(k.b)()(Ee),he=a(74),Ne=a.n(he),_e=function(e){return e.children},ve=a(75),ge=a.n(ve),be=a(76),we=a.n(be),Oe=a(77),Se=a.n(Oe),ye=a(32),xe=a.n(ye),ke=function(e){var t=[{text:"\u0427\u0438\u0442\u0430\u0439\u0442\u0435 \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u0430\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e.",icon:r.a.createElement(ge.a,{fontSize:"large",className:xe.a.SloganIcon})},{text:"\u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u043e \u0447\u0435\u043c \u0433\u043e\u0432\u043e\u0440\u044f\u0442 \u0432 \u043c\u0438\u0440\u0435.",icon:r.a.createElement(we.a,{fontSize:"large",className:xe.a.SloganIcon})},{text:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u043e\u0431\u0449\u0435\u043d\u0438\u044e.",icon:r.a.createElement(Se.a,{fontSize:"large",className:xe.a.SloganIcon})}].map((function(e){return r.a.createElement("li",{key:e.text,className:xe.a.SloganItem},e.icon,e.text)}));return r.a.createElement("div",{className:xe.a.Presentation},r.a.createElement(h.a,{className:xe.a.BgTwitterIcon}),r.a.createElement("ul",{className:xe.a.SloganList},t))},Te=a(34),je=a.n(Te),Le=a(36),Ie=a.n(Le),Ue=a(24),Ae=a.n(Ue),Be=a(7),Ce=a.n(Be),Re=a(46),De=a.n(Re),Fe=function(e){return r.a.createElement("label",{className:[De.a.Label,e.customizeLabel].join(" ")},r.a.createElement("div",{className:De.a.LabelText},e.inputName),r.a.createElement("input",{onChange:e.onChange,name:e.name,type:e.type,className:[De.a.Input,e.className].join(" ")}))},Me=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",emailError:{isOccured:!1,text:""},passwordError:{isOccured:!1,text:""},unknownError:{isOccured:!1,text:""}},e.emailHandler=function(t){e.setState({email:t.target.value},(function(){}))},e.passwordHandler=function(t){e.setState({password:t.target.value},(function(){}))},e.submitForm=function(t){t.preventDefault(),e.setState({passwordError:{isOccured:!1,text:""},emailError:{isOccured:!1,text:""}}),R.post("/user/signin",{email:e.state.email,password:e.state.password}).then((function(t){var a=t.data;localStorage.setItem("token",a.token),e.props.dispatch(pe(a.user)),e.props.history.push("/home")})).catch((function(t){if(t.response.data)switch(t.response.data.type){case"email":e.setState({emailError:{isOccured:!0,text:t.response.data.text}});break;case"password":e.setState({passwordError:{isOccured:!0,text:t.response.data.text}});break;case"unknown":e.setState({unknownError:{isOccured:!0,text:t.response.data.text}})}else console.log(t)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submitForm,className:Ce.a.SignForm},this.state.emailError.isOccured?r.a.createElement("div",{className:Ce.a.Error},this.state.emailError.text):null,this.state.passwordError.isOccured?r.a.createElement("div",{className:Ce.a.Error},this.state.passwordError.text):null,r.a.createElement(Fe,{onChange:this.emailHandler,value:this.state.email,name:"email",type:"text",customizeLabel:Ce.a.Label,className:Ce.a.Input,inputName:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),r.a.createElement(Fe,{onChange:this.passwordHandler,value:this.state.password,name:"password",type:"password",customizeLabel:Ce.a.Label,className:Ce.a.Input,inputName:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(y,{className:Ce.a.SignButton}," \u0412\u043e\u0439\u0442\u0438 "))}}]),a}(r.a.Component),He=Object(ee.h)(Object(k.b)()(Me)),We=function(e){return e.isVisible?r.a.createElement("div",{className:Ae.a.Backdrop},r.a.createElement("div",{className:Ae.a.Modal},r.a.createElement("button",{onClick:e.closeModal,className:Ae.a.CloseModal},r.a.createElement(Ie.a,null)),r.a.createElement(h.a,{fontSize:"large",className:Ae.a.TwitterIcon}),r.a.createElement(He,null))):null},ze=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",email:"",password:"",isLoading:!1,nameError:{isOccured:!1,text:""},emailError:{isOccured:!1,text:""},passwordError:{isOccured:!1,text:""},unknownError:{isOccured:!1,text:""}},e.nameHandler=function(t){e.setState({name:t.target.value},(function(){}))},e.emailHandler=function(t){e.setState({email:t.target.value},(function(){}))},e.passwordHandler=function(t){e.setState({password:t.target.value},(function(){}))},e.submitForm=function(t){if(t.preventDefault(),e.state.name.includes(" "))return e.setState({nameError:{isOccured:!0,text:"Name should be without spaces"}});e.setState({passwordError:{isOccured:!1,text:""},emailError:{isOccured:!1,text:""},nameError:{isOccured:!1,text:""}}),R.post("/user/signup",{name:e.state.name,email:e.state.email,password:e.state.password}).then((function(t){var a=t.data;localStorage.setItem("token",a.token),e.props.dispatch(pe(a.user)),e.props.history.push("/home")})).catch((function(t){if(t.response&&t.response.data)switch(t.response.data.type){case"email":e.setState({emailError:{isOccured:!0,text:t.response.data.text}});break;case"password":e.setState({passwordError:{isOccured:!0,text:t.response.data.text}});break;case"name":e.setState({nameError:{isOccured:!0,text:t.response.data.text}});break;case"unknown":e.setState({unknownError:{isOccured:!0,text:t.response.data.text}})}else console.log(t)}))},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submitForm,className:Ce.a.SignForm},this.state.passwordError.isOccured?r.a.createElement("div",{className:Ce.a.Error},this.state.passwordError.text):null,this.state.emailError.isOccured?r.a.createElement("div",{className:Ce.a.Error},this.state.emailError.text):null,this.state.nameError.isOccured?r.a.createElement("div",{className:Ce.a.Error},this.state.nameError.text):null,r.a.createElement(Fe,{onChange:this.nameHandler,value:this.state.name,name:"name",type:"text",customizeLabel:Ce.a.Label,className:Ce.a.Input,inputName:"\u0418\u043c\u044f"}),r.a.createElement(Fe,{onChange:this.emailHandler,value:this.state.email,name:"email",type:"text",customizeLabel:Ce.a.Label,className:Ce.a.Input,inputName:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),r.a.createElement(Fe,{onChange:this.passwordHandler,value:this.state.password,name:"password",type:"password",customizeLabel:Ce.a.Label,className:Ce.a.Input,inputName:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.a.createElement(y,{className:Ce.a.SignButton}," \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f "))}}]),a}(r.a.Component),Ge=Object(ee.h)(Object(k.b)()(ze)),Ke=function(e){return e.isVisible?r.a.createElement("div",{className:Ae.a.Backdrop},r.a.createElement("div",{className:Ae.a.Modal},r.a.createElement("button",{onClick:e.closeModal,className:Ae.a.CloseModal},r.a.createElement(Ie.a,null)),r.a.createElement(h.a,{fontSize:"large",className:Ae.a.TwitterIcon}),r.a.createElement(Ge,null))):null},Je=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isModalSignIn:!1,isModalSignUp:!1},e.toggleModal=function(t){switch(t){case"signIn":e.setState((function(e){return{isModalSignIn:!e.isModalSignIn}}));break;case"signUp":e.setState((function(e){return{isModalSignUp:!e.isModalSignUp}}))}},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:je.a.SignUp},r.a.createElement(h.a,{fontSize:"large",className:je.a.TwitterIcon}),r.a.createElement("h1",{className:je.a.Title}," \u0423\u0437\u043d\u0430\u0439\u0442\u0435, \u0447\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u043c\u0438\u0440\u0435 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441 "),r.a.createElement("strong",{className:je.a.JoinUs},"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0422\u0432\u0438\u0442\u0442\u0435\u0440\u0443 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441!"),r.a.createElement(y,{onClick:this.toggleModal.bind(this,"signUp"),className:je.a.SignUpButton},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(y,{onClick:this.toggleModal.bind(this,"signIn"),className:je.a.SignInButton},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(We,{closeModal:this.toggleModal.bind(this,"signIn"),isVisible:this.state.isModalSignIn}),r.a.createElement(Ke,{closeModal:this.toggleModal.bind(this,"signUp"),isVisible:this.state.isModalSignUp}))}}]),a}(r.a.Component),Pe=a(78),Ve=a.n(Pe),qe=function(e){return r.a.createElement("div",{className:Ve.a.Auth},r.a.createElement(Je,null))},Ze=function(e){return r.a.createElement(_e,null,r.a.createElement("div",{className:Ne.a.Main},r.a.createElement(ke,null),r.a.createElement(qe,null)))},Ye=a(79),Xe=a.n(Ye),Qe=a(27),$e=a(28),et=a.n($e),tt=Object(k.b)((function(e){return{user_to_find:e.users.user_to_find,users:e.users.users}}))((function(e){Object(n.useEffect)((function(){e.dispatch((function(e,t){R.get("/users",{headers:{authorization:localStorage.getItem("token")}}).then((function(t){var a=t.data;e(function(e){return{type:"ADD_USERS",payload:e}}(a))})).catch((function(e){console.log("getAllUsers err")}))}))}),[]);return r.a.createElement("ul",{className:et.a.UserList},function(e,t){if(!t)return e.map((function(e){return r.a.createElement("li",{key:e.name,className:et.a.User},r.a.createElement(x.b,{to:"/"+e.name,className:et.a.UserLink},r.a.createElement(q.a,{alt:"\u0410\u0432\u0430\u0442\u0430\u0440",src:e.avatar}),r.a.createElement("span",{className:et.a.UserName}," ",e.name,"  ")))}));var a=new RegExp(t,"gi");return e.map((function(e){var n=Object(Qe.a)(e.name.matchAll(a)).map((function(e){return e.index}));return Object(T.isEmpty)(n)?null:(n=n.map((function(e){for(var a=[],n=0;n<t.length;n++)a.push(e+n);return a})).flat(),r.a.createElement("li",{key:e.name,className:et.a.User},r.a.createElement(x.b,{to:"/"+e.name,className:et.a.UserLink},r.a.createElement(q.a,{alt:"\u0410\u0432\u0430\u0442\u0430\u0440",src:e.avatar}),r.a.createElement("span",{className:et.a.UserName},e.name.split("").map((function(e,t){return n.includes(t)?r.a.createElement("span",{key:"".concat(e," + ").concat(t),className:et.a.Highlight},e):e}))))))}))}(e.users,e.user_to_find))})),at=function(e){return r.a.createElement("section",{className:Xe.a.Grid},r.a.createElement(j,null),r.a.createElement(F,null),r.a.createElement(tt,null),r.a.createElement(me,null))},nt=a(80),rt=a.n(nt),st=a(8),ot=a.n(st),ct=a(81),lt=a(82),it=a(47),ut=a.n(it),mt=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).fileUploadHandler=function(e){console.log(e.target.files[0])},e.changeAvatarHandler=function(e){e.preventDefault()},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ut.a.Backdrop},r.a.createElement("div",{className:ut.a.Modal},r.a.createElement("button",{onClick:this.props.closeModal,className:ut.a.CloseModal},r.a.createElement(Ie.a,null)),r.a.createElement("form",null,r.a.createElement("input",{onChange:this.fileUploadHandler,type:"file",accept:"image/*"}),r.a.createElement(y,{onClick:this.changeAvatarHandler},"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"))))}}]),a}(r.a.Component),pt=(Object(k.b)()(mt),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.monthNames=["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],e.followHandler=function(){return Boolean(e.props.current_user.followers.users.find((function(t){return t.user_id===e.props.user._id})))?e.props.dispatch($(e.props.current_user)):e.props.dispatch(Q(e.props.current_user))},e.closeEditProfileModal=function(){e.setState((function(t){return e.setState({isEditingProfile:!t.isEditingProfile})}))},e.showRegistrationDate=function(t){var a=new Date(t);return t?e.monthNames[a.getMonth()]+"  "+a.getFullYear()+" \u0433.":""},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ot.a.About},r.a.createElement("div",{className:ot.a.BackToHomePanel},r.a.createElement(x.b,{to:"/home",className:ot.a.ToHome},r.a.createElement(ct.a,{size:"31px",style:{fill:"#1CA1F2"}})),r.a.createElement("div",null,r.a.createElement("div",{className:ot.a.UserName}," ",this.props.current_user.name," "),r.a.createElement("div",{className:ot.a.UserTweets},this.props.current_user.feed.tweets.length," \u0442\u0432\u0438\u0442\u043e\u0432"))),r.a.createElement("div",{className:ot.a.Profile},r.a.createElement("div",{className:ot.a.BackgroundImage}),r.a.createElement(q.a,{className:ot.a.Avatar,src:this.props.current_user.avatar}),r.a.createElement("div",{className:ot.a.UserInfo},this.props.current_user.isLoading||this.props.user.isLoading?r.a.createElement("span",{className:ot.a.Loading}," Loading... "):this.props.user.name===this.props.current_user.name?null:r.a.createElement(y,{onClick:this.followHandler,className:ot.a.FollowBtn},Boolean(this.props.current_user.followers.users.find((function(t){return t.user_id===e.props.user._id})))?"Unfollow":"Follow"),r.a.createElement("div",{className:ot.a.Name},this.props.current_user.name),r.a.createElement("div",{className:ot.a.NickName},"@",this.props.current_user.name),r.a.createElement("div",{className:ot.a.Register},r.a.createElement(lt.a,null),r.a.createElement("div",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f: ",this.showRegistrationDate(this.props.current_user.registration_date))),r.a.createElement("div",{className:ot.a.FollowInfo},r.a.createElement("div",{className:ot.a.Follow},r.a.createElement("span",{className:ot.a.FollowCounter}," ",this.props.current_user.follows.count," "),"\u0432 \u0447\u0438\u0442\u0430\u0435\u043c\u044b\u0445"),r.a.createElement("div",{className:ot.a.Followers},r.a.createElement("span",{className:ot.a.FollowersCounter}," ",this.props.current_user.followers.count," "),"\u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439")))))}}]),a}(r.a.Component)),dt=Object(k.b)((function(e){return{current_user:e.current_user,user:e.user}}))(pt),Et=Object(k.b)()((function(e){var t=Object(ee.g)().current_user;return Object(n.useEffect)((function(){return e.dispatch(de()),e.dispatch(function(e){return function(t){t({type:"LOADING_CURRENT_USER"}),R.get("/".concat(e),{headers:{authorization:localStorage.getItem("token")}}).then((function(e){var a=e.data;a&&t(function(e){return{type:"ADD_CURRENT_USER",payload:e}}(a))})).catch((function(e){console.log(e)}))}}(t)),function(){e.dispatch({type:"CLEAR_CURRENT_USER",payload:null})}}),[]),r.a.createElement("section",{className:rt.a.Grid},r.a.createElement(j,null),r.a.createElement(ae,null),r.a.createElement(dt,null),r.a.createElement(me,null))})),ft=a(43),ht=function(){return!!localStorage.getItem("token")},Nt=function(e){var t=e.component,a=Object(ft.a)(e,["component"]);return r.a.createElement(ee.b,Object.assign({},a,{render:function(){return ht()?r.a.createElement(t,null):r.a.createElement(ee.a,{to:"/"})}}))},_t=function(e){var t=e.component,a=Object(ft.a)(e,["component"]);return r.a.createElement(ee.b,Object.assign({},a,{render:function(){return ht()?r.a.createElement(ee.a,{to:"/home"}):r.a.createElement(t,null)}}))},vt=a(30),gt=a(83),bt=a(84),wt={feed_id:"",tweets:[]},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TWEET":return{feed_id:e.feed_id,tweets:[t.payload].concat(Object(Qe.a)(e.tweets))};case"LIKE_TWEET":var a=t.payload,n=a.tweet_id,r=a.user_id,s=e.tweets.map((function(e){if(e.id===n){var t=e.who_liked.indexOf(r);-1===t?(e.likes++,e.who_liked.push(r)):(e.likes--,e.who_liked.splice(t,1))}return e}));return{feed_id:e.feed_id,tweets:Object(Qe.a)(s)};case"SEND_FEED":return e;case"ADD_FEED_TO_STORE":return{feed_id:t.payload._id,tweets:Object(Qe.a)(t.payload.tweets)};default:return e}},St=a(10),yt={avatar:"https://media.idownloadblog.com/wp-content/uploads/2017/03/Twitter-new-2017-avatar-001.png",name:"",follows:{users:[],count:0},followers:{users:[],count:0},isLoading:!0},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USER_TO_STORE":return Object(St.a)(Object(St.a)({},t.payload),{},{isLoading:!1});case"LOADING_USER":return Object(St.a)(Object(St.a)({},e),{},{isLoading:!0});default:return e}},kt={user_to_find:"",users:[]},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERS":return{user_to_find:e.user_to_find,users:Object(Qe.a)(t.payload)};case"SEARCH_USER":return{user_to_find:t.payload,users:Object(Qe.a)(e.users)};default:return e}},jt={name:"",follows:{users:[],count:0},followers:{users:[],count:0},feed:{feed_id:"",tweets:[]},isLoading:!0},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CURRENT_USER":case"FOLLOW":case"UNFOLLOW":return Object(St.a)(Object(St.a)({},t.payload),{},{isLoading:!1});case"LOADING_CURRENT_USER":case"LOADING_FOLLOW":case"LOADING_UNFOLLOW":return Object(St.a)(Object(St.a)({},e),{},{isLoading:!0});case"CLEAR_CURRENT_USER":return jt;default:return e}},It=Object(vt.combineReducers)({feed:Ot,user:xt,users:Tt,current_user:Lt}),Ut=Object(vt.createStore)(It,Object(bt.composeWithDevTools)(Object(vt.applyMiddleware)(gt.a)));window.store=Ut;var At=Ut;var Bt=function(e){return r.a.createElement(k.a,{store:At},r.a.createElement(ee.d,null,r.a.createElement(Nt,{exact:!0,path:"/home",component:fe}),r.a.createElement(Nt,{exact:!0,path:"/explore",component:at}),r.a.createElement(Nt,{exact:!0,path:"/:current_user",component:Et}),r.a.createElement(_t,{exact:!0,path:"/",component:Ze})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x.a,null,r.a.createElement(Bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},17:function(e,t,a){e.exports={Navigation:"_3AaPOaHEXI57oNMmEsvZUK",NavTitle:"_2xr0xvGcYAUocLKvehyCEE",NavList:"_1OvUBLFEnmoQ6wlWbrMJSX",NavItem:"_2raJ3SEbMjz01IaD3bv3SQ",LogoItem:"_2w67Dqa7mABTWGazFtrng8",NavBtn:"_3Xh2hR0OiNN6XJFPSecGvi",TweetBtn:"_13vhMfUWnnBHqf_nshjYBJ",Kek:"_3ocnNUoanVjlJ8P3Ye8nQs",TweetItem:"_3vL4-PlWcmXGKDhmljHBUm",ExitBtn:"_2vEMCZfWb2TmfVKgO5g4GJ"}},24:function(e,t,a){e.exports={Backdrop:"_3h2wmpXOYs0Nwh3VZKKYxf",Modal:"_2nm3rwCvNNVvRF3aj42h7m",CloseModal:"_20Yehf5paGtmKucwXYL2qC",TwitterIcon:"_2q1D8neVBZxIV2l3Ydswjo"}},28:function(e,t,a){e.exports={UserList:"_1ksAhwBJC9qrBhAJNWbQmN",User:"_3_LccxmzOnh3mOZKwxEAq4",UserLink:"_1jP4ynCmEBmTGrca7rTN_A",UserName:"mLa0O6rpNOKImFWDTyWVI",Highlight:"_2WR1K98r28e3Q9PYSPI9HL"}},31:function(e,t,a){e.exports={Wrapper:"_1xADn3rfFjc2tde9aPFcqw",AvatarWrapper:"_1dWuSSHK7m9RMscNof_QFh",AvatarLink:"_2ZswFYSaUyvRIMfu1F1zIg",Avatar:"_3Qs82kp0M6A2SrBbQZnK4f",TweetFormWrapper:"azExlT6ao3NhyB-KUBc9Y",TweetForm:"_1mCECU-dOIqyy1gVHA9-aW",SendTweet:"_1u3XF7wTCZhcR6lpRcQu3q"}},32:function(e,t,a){e.exports={Presentation:"_1BFuMghMJ2Sk-xjYImM0p4",SloganList:"_3RsdcH53HVxp3HKhB2gXvv",SloganItem:"_3UE5-yRHBq3pYLXUsgXxsl",SloganIcon:"_3aBWB6prnCtuBfJlPpiS5m",BgTwitterIcon:"_3-zr73QVDKBDFyTu-vxaVq"}},34:function(e,t,a){e.exports={SignUp:"_12brT_L5FXt33lWczsksBk",TwitterIcon:"_3MfFn0yvx1AnFJeMKixpPP",Title:"_1yrW8ya3DUkZiucG4n40Vx",JoinUs:"_1Zi4Rgi04p_VRvR7qASDav",SignUpButton:"_2mE76yOfGyKbSrYPtZoQGd",SignInButton:"_3mKibDU-dAQs4UzyQj89fL"}},37:function(e,t,a){e.exports={Topic:"-FF43AdFeeaPjNO0M6KwI",TopicCategory:"D-1Mqrw7fX01ie8bh0b1m",TopicName:"_2F4Ma-vz7KFsMRTN4Q6yNk",TopicCounter:"_25B3waJn1cTBteVRcwAsYG"}},44:function(e,t,a){e.exports={Search:"_27Br-pnF-K4NdDL16TpGH1",Wrapper:"_3lUtsTp4nbPONNIYOQ_0Sf",Input:"_1AVl0fVLbPRUrmJ19pixt1"}},45:function(e,t,a){e.exports={CurrentTopics:"_3w8eo7A0ThE4u9RvUiBiV4",Header:"_11g0E0h6kt0OfEi4M4gdHE",ExpandButton:"_2PpYFDEfOLiSKHtcS6Rotq"}},46:function(e,t,a){e.exports={Label:"_3R-mMKs9j2eF57eo-fvNcT",LabelText:"kTi7HTExiYXzg9sKKtv7G",Input:"_3pFCy919YgFryrU5wzDCxL"}},47:function(e,t,a){e.exports={Backdrop:"_3IAIi2crO3wWxKC-LxcGdT",Modal:"_3zMvzFNVNHA_TEZyJK63A1",CloseModal:"_2yhh85s-AWsBbJ_ooEswCt"}},52:function(e,t,a){e.exports={Header:"_3_OPgaX2i0w41a-Lrqu8p7",Title:"_245mv-nj52du5JJ0_oyHbU"}},66:function(e,t,a){e.exports={Grid:"_34PIdApG0ZooPhGIUcXcTj"}},67:function(e,t,a){e.exports={SignButton:"dDk9Va9l-i2FNJWyG-45d"}},7:function(e,t,a){e.exports={SignForm:"_3KH95xQjOIgOJjyBh_NlJO",Label:"hOh1w3aieDuWqH2Ny41eF",Input:"mwSBRDaxpwRxmaEn3JJFS",SignButton:"h5ELMB3TRsnzzUXLsEvvH",Error:"_30whyoS1rUhkBHG86Zx35o"}},72:function(e,t,a){e.exports={Feed:"_2j-tXlRCLAoG6KEiDSxJu9"}},73:function(e,t,a){e.exports={Other:"_2ELPhnsm9cHttG2cyxBul2"}},74:function(e,t,a){e.exports={Main:"_2fJq9cP8WpZr2x19rrOJbq"}},78:function(e,t,a){e.exports={Auth:"_8RgC4dpnEnk6pDtBLp8ec"}},79:function(e,t,a){e.exports={Grid:"_1z6WoGC0Qpwx_g0cZSe3BW"}},8:function(e,t,a){e.exports={About:"_3U0X5n_uoM90jAW9qmOLXB",BackToHomePanel:"_3DAkL9RU4oRI67qAayVci5",ToHome:"_4JsjkCZZ9EfuK879WdyTr",UserName:"uUdKZV8xzZOEGbgCHYNkO",UserTweets:"_3G5PRUshhHOtE2362o16T0",Profile:"_1RUTJBUUlY1ggoSVbpKah8",BackgroundImage:"_2Iz2CqL9yJHeU3d8AWzdNq",Info:"_1e4Ap1_hTVadVlhk-L9PGI",Avatar:"_31ONLxhi3Z7CK281fcV8jt",UserInfo:"_2bmwFMA21nGadwvuiNsHG2",FollowBtn:"H2bRJpk-c2pekKyZ87a7u",Name:"_2ccb76Ok7_hx9gxH1RdOyK",NickName:"_2asdc0Shef9ObNu972sMvV",Register:"_3-lwKMv9t_U1EwkG-zs1e8",FollowInfo:"so3NA4s4DWgTpoxXY4-RP",FollowCounter:"JwFVGV9sOgFBnFif4fvkp",FollowersCounter:"_2aB0S6gGZHyztJ5hRWukEB",Loading:"BeB2gVKE2TygAf-WA63yU"}},80:function(e,t,a){e.exports={Grid:"_3Mu7hP05WtmfWPNFj13A2U"}},86:function(e,t,a){e.exports=a(117)},91:function(e,t,a){},92:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.dbdc447c.chunk.js.map